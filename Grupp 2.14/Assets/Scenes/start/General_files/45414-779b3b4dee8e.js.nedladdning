"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([[45414,61483],{3482:(e,t,r)=>{r.d(t,{G:()=>a});var n=r(24774);function a(e=null,t="bottom"){return[n.S7.of(()=>({dom:e,top:"top"===t}))]}},17005:(e,t,r)=>{r.d(t,{l:()=>m});var n=r(74848),a=r(16522),o=r(77274),l=r(96379),i=r(96540),s=r(35247),c=r(54508);let d=[{name:"Hate it",value:"VERY_NEGATIVE",icon:o.YS,color:"veryDissatisfied"},{name:"Not great",value:"NEGATIVE",icon:o.Mm,color:"dissatisfied"},{name:"It\u2019s ok",value:"POSITIVE",icon:o.Cf,color:"satisfied"},{name:"Love it",value:"VERY_POSITIVE",icon:o.mN,color:"verySatisfied"}];function m(e){let t,r,m,u,h=(0,a.c)(7),{ref:p,mode:f,returnFocusRef:g}=e,x=(0,i.useRef)(null),y=(0,i.useRef)(null),b=(0,i.useRef)(void 0);h[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>({openDialog:e=>{b.current=e,s.W.copilotChatInterviewSurvey?x.current?.openDialog():y.current?.openDialog(e)}}),h[0]=t):t=h[0],(0,i.useImperativeHandle)(p,t),h[1]!==f?(r=async(e,t)=>{let r=[];if(null==e&&r.push("Please select a rating."),t.length>2e3&&r.push("Please keep your feedback within 2000 characters or less."),r.length>0)return r;let n={rating:e,content:t,hostname:window.location.hostname,path:window.location.pathname,mode:f};try{(await (0,l.lS)("/github-copilot/feedback",{method:"POST",body:n})).ok||r.push("An error occurred while submitting your feedback.")}catch{r.push("An error occurred while submitting your feedback.")}return r},h[1]=f,h[2]=r):r=h[2];let v=r;return h[3]===Symbol.for("react.memo_cache_sentinel")?(m=(0,n.jsx)(c.E,{ref:x,onClose:e=>{"no-thanks"===e&&y.current?.openDialog(b.current)}}),h[3]=m):m=h[3],h[4]!==v||h[5]!==g?(u=(0,n.jsxs)(n.Fragment,{children:[m,(0,n.jsx)(o.NE,{ref:y,options:d,onSubmit:v,returnFocusRef:g})]}),h[4]=v,h[5]=g,h[6]=u):u=h[6],u}m.displayName="ConversationFeedbackDialog"},27359:(e,t,r)=>{r.d(t,{v:()=>i});var n=r(16522),a=r(3433),o=r(47789),l=r(38627);function i(){let e,t=(0,n.c)(3),r=(0,o.qw)(),i=(0,a.zy)();return t[0]!==i||t[1]!==r?(e=(0,l.BW)(i,r),t[0]=i,t[1]=r,t[2]=e):e=t[2],e}},28259:(e,t,r)=>{r.d(t,{J:()=>u});var n=r(74848),a=r(16522),o=r(86877),l=r(84268),i=r(30093),s=r(56149),c=r(57387),d=r(96540),m=r(44902);let u=e=>{let t,r,u,p,f,g,x,y,b,v,j,_,C,N,S,R=(0,a.c)(34),{onDismiss:w,experimentsDialogRef:k}=e,[A,I]=(0,d.useState)(h),[T,L]=(0,d.useState)(void 0),E=(0,d.useRef)("\u200B");R[0]!==A||R[1]!==w?(t=()=>{let e=[];for(let t of A.split(","))if(""!==t.trim()){if(2!==t.split("=").length){L(`Invalid experiment key=value pair${E.current}`),E.current=E.current+"\u200B";return}L(""),e.push(t)}(0,m.R)(e),w()},R[0]=A,R[1]=w,R[2]=t):t=R[2];let P=t;R[3]!==w?(r=()=>{I(""),(0,m.R)([]),L(""),w()},R[3]=w,R[4]=r):r=R[4];let D=r;return R[5]===Symbol.for("react.memo_cache_sentinel")?(u=(0,n.jsx)(o.A.Label,{children:"Experiments"}),R[5]=u):u=R[5],R[6]===Symbol.for("react.memo_cache_sentinel")?(p=(0,n.jsx)("code",{children:"key=value"}),R[6]=p):p=R[6],R[7]===Symbol.for("react.memo_cache_sentinel")?(f=(0,n.jsx)(o.A.Caption,{children:(0,n.jsxs)("span",{children:["List experiments as comma separated ",p," pairs. To see available experiments,"," ",(0,n.jsx)(l.A,{inline:!0,target:"_blank",href:`/search?q=${encodeURIComponent("repo:github/copilot-api path:experiments.go")}`,children:"read this code"}),"."]})}),R[7]=f):f=R[7],R[8]===Symbol.for("react.memo_cache_sentinel")?(g=e=>I(e.target.value),R[8]=g):g=R[8],R[9]!==P?(x=e=>{"Enter"===e.key&&P()},R[9]=P,R[10]=x):x=R[10],R[11]!==A||R[12]!==x?(y=(0,n.jsx)(i.A,{"aria-label":"Experiments",name:"experiments",value:A,onChange:g,onKeyDown:x,className:"ExperimentsDialog-module__experimentsInput--Uko5H"}),R[11]=A,R[12]=x,R[13]=y):y=R[13],R[14]!==T?(b=T&&(0,n.jsx)(o.A.Validation,{variant:"error",children:T}),R[14]=T,R[15]=b):b=R[15],R[16]!==y||R[17]!==b?(v=(0,n.jsx)(c.l.Body,{children:(0,n.jsx)("div",{className:"ExperimentsDialog-module__dialogContentContainer--mWDus",children:(0,n.jsxs)(o.A,{children:[u,f,y,b]})})}),R[16]=y,R[17]=b,R[18]=v):v=R[18],R[19]!==D?(j={type:"button",onClick:D,content:"Clear all",buttonType:"danger"},R[19]=D,R[20]=j):j=R[20],R[21]!==w?(_={type:"button",onClick:w,content:"Cancel"},R[21]=w,R[22]=_):_=R[22],R[23]!==P?(C={type:"button",onClick:P,content:"Save",buttonType:"primary"},R[23]=P,R[24]=C):C=R[24],R[25]!==j||R[26]!==_||R[27]!==C?(N=(0,n.jsx)(c.l.Footer,{children:(0,n.jsx)(c.l.Buttons,{buttons:[j,_,C]})}),R[25]=j,R[26]=_,R[27]=C,R[28]=N):N=R[28],R[29]!==k||R[30]!==w||R[31]!==v||R[32]!==N?(S=(0,n.jsx)(s.ZL,{children:(0,n.jsxs)(c.l,{ref:k,onClose:w,title:"Experiments",width:"xlarge",children:[v,N]})}),R[29]=k,R[30]=w,R[31]=v,R[32]=N,R[33]=S):S=R[33],S};try{u.displayName||(u.displayName="ExperimentsDialog")}catch{}function h(){return(0,m.f)().join(",")}},37204:(e,t,r)=>{r.d(t,{X:()=>y});var n=r(74848),a=r(16522),o=r(38621),l=r(86877),i=r(10576),s=r(30093),c=r(46251),d=r(64138),m=r(26108),u=r(21373),h=r(56149),p=r(57387),f=r(96540),g=r(79064),x=r(33592);let y=e=>{let t,r,y,v,j,_,C,N,S,R,w,k,A,I,T,L,E,P,D,M,B,F,O,V=(0,a.c)(53),{onDismiss:$,promptDialogRef:z}=e,U=(0,x.b)(),H=g.Jt.settings,[J,Y]=(0,f.useState)(H?.instructionPrompt||void 0);V[0]===Symbol.for("react.memo_cache_sentinel")?(t=H?.skillOverrides??[],V[0]=t):t=V[0];let[W,X]=(0,f.useState)(t),[G,Z]=(0,f.useState)(H?.temperature||.7),Q=(0,f.useRef)(void 0);V[1]!==U||V[2]!==$||V[3]!==J||V[4]!==G||V[5]!==W?(r=()=>{let e=W.filter(b);U.setCopilotSettings({instructionPrompt:J||"",skillOverrides:e,temperature:G}),$()},V[1]=U,V[2]=$,V[3]=J,V[4]=G,V[5]=W,V[6]=r):r=V[6];let q=r;V[7]!==U?(y=async()=>{if(Q.current)return void Y(Q.current);let e=await U.getSystemPrompt();Q.current=e,Y(e)},V[7]=U,V[8]=y):y=V[8];let K=y;V[9]!==K||V[10]!==J?(v=()=>{(async()=>{void 0===J&&await K()})()},V[9]=K,V[10]=J,V[11]=v):v=V[11],V[12]!==K||V[13]!==U||V[14]!==J?(j=[K,U,J],V[12]=K,V[13]=U,V[14]=J,V[15]=j):j=V[15],(0,f.useEffect)(v,j),V[16]!==K?(_=()=>{K(),X([]),Z(.7)},V[16]=K,V[17]=_):_=V[17];let ee=_;return V[18]===Symbol.for("react.memo_cache_sentinel")?(C=(0,n.jsx)(l.A.Label,{children:"System Instructions"}),V[18]=C):C=V[18],V[19]===Symbol.for("react.memo_cache_sentinel")?(N=(0,n.jsx)(l.A.Caption,{children:(0,n.jsx)("span",{children:"Make adjustments to the system instructions or add new instructions."})}),V[19]=N):N=V[19],V[20]===Symbol.for("react.memo_cache_sentinel")?(S=e=>Y(e.target.value),V[20]=S):S=V[20],V[21]!==J?(R=(0,n.jsxs)(l.A,{children:[C,N,(0,n.jsx)(i.Ay,{block:!0,"aria-label":"Prompt",name:"Prompt",value:J,onChange:S,className:"PromptDialog-module__systemInstructionsTextarea--JIAZO"})]}),V[21]=J,V[22]=R):R=V[22],V[23]===Symbol.for("react.memo_cache_sentinel")?(w=(0,n.jsx)(l.A.Label,{children:"Temperature"}),k=(0,n.jsx)(l.A.Caption,{children:"Controls the randomness of the model's responses. Lower temperatures are more deterministic, while higher temperatures are more random."}),V[23]=w,V[24]=k):(w=V[23],k=V[24]),V[25]===Symbol.for("react.memo_cache_sentinel")?(A=e=>Z(Number(e.target.value)),V[25]=A):A=V[25],V[26]!==G?(I=(0,n.jsxs)(l.A,{className:"PromptDialog-module__temperatureFormControl--oJoQJ",children:[w,k,(0,n.jsx)(s.A,{type:"number",min:"0",max:"1",step:"0.01",block:!0,value:G,onChange:A})]}),V[26]=G,V[27]=I):I=V[27],V[28]===Symbol.for("react.memo_cache_sentinel")?(T=(0,n.jsx)("div",{className:"PromptDialog-module__toolsSectionHeader--jFBxE",children:"Tools"}),V[28]=T):T=V[28],V[29]!==W?(L=W.map((e,t)=>(0,n.jsxs)(f.Fragment,{children:[(0,n.jsxs)(c.B,{direction:"horizontal",className:"py-2",children:[(0,n.jsxs)(l.A,{children:[(0,n.jsx)(l.A.Label,{children:"Name"}),(0,n.jsx)(l.A.Caption,{children:(0,n.jsx)("span",{children:"Slug of tool you want to adjust"})}),(0,n.jsx)(s.A,{defaultValue:e.slug,onChange:e=>{W.map((r,n)=>{n===t&&(r.slug=e.target.value)})}})]}),(0,n.jsxs)(l.A,{children:[(0,n.jsx)(l.A.Label,{children:"Description"}),(0,n.jsx)(l.A.Caption,{children:(0,n.jsx)("span",{children:"Make changes to the tool description"})}),(0,n.jsx)(s.A,{defaultValue:e.description,onChange:r=>{W.map((n,a)=>{a===t&&(e.description=r.target.value)})}})]}),(0,n.jsxs)(l.A,{children:[(0,n.jsx)(l.A.Label,{id:"toggle",children:"Enabled?"}),(0,n.jsx)(d.A,{size:"small","aria-labelledby":"toggle",defaultChecked:e.enabled,onChange:e=>{W.map((r,n)=>{n===t&&(r.enabled=e)})}})]}),(0,n.jsx)(m.K,{icon:o.TrashIcon,"aria-label":"Delete tool",variant:"invisible",onClick:()=>{let e=[...W];1===W.length?X([]):(e.splice(t,1),X(e))},className:"PromptDialog-module__deleteToolButton--PRDPZ"})]}),t===W.length-1&&(0,n.jsx)(u.Q,{leadingVisual:(0,n.jsx)(o.PlusIcon,{}),onClick:()=>X([...W,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add another tool"})]},`tool-${e.slug}-${Math.random()}`)),V[29]=W,V[30]=L):L=V[30],V[31]!==W?(E=0===W.length&&(0,n.jsx)(u.Q,{leadingVisual:(0,n.jsx)(o.PlusIcon,{}),onClick:()=>X([...W,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add a tool"}),V[31]=W,V[32]=E):E=V[32],V[33]!==R||V[34]!==I||V[35]!==L||V[36]!==E?(P=(0,n.jsxs)(p.l.Body,{children:[R,I,T,L,E]}),V[33]=R,V[34]=I,V[35]=L,V[36]=E,V[37]=P):P=V[37],V[38]!==$?(D={type:"button",onClick:$,content:"Cancel"},V[38]=$,V[39]=D):D=V[39],V[40]!==ee?(M={type:"button",onClick:ee,content:"Reset"},V[40]=ee,V[41]=M):M=V[41],V[42]!==q?(B={type:"button",onClick:q,content:"Save",buttonType:"primary"},V[42]=q,V[43]=B):B=V[43],V[44]!==D||V[45]!==M||V[46]!==B?(F=(0,n.jsx)(p.l.Footer,{children:(0,n.jsx)(p.l.Buttons,{buttons:[D,M,B]})}),V[44]=D,V[45]=M,V[46]=B,V[47]=F):F=V[47],V[48]!==$||V[49]!==z||V[50]!==P||V[51]!==F?(O=(0,n.jsx)(h.ZL,{children:(0,n.jsxs)(p.l,{ref:z,onClose:$,title:"Prompt Settings",width:"xlarge",className:"PromptDialog-module__Dialog--gvqi7",children:[P,F]})}),V[48]=$,V[49]=z,V[50]=P,V[51]=F,V[52]=O):O=V[52],O};try{y.displayName||(y.displayName="PromptDialog")}catch{}function b(e){return e.slug&&e.description}},46665:(e,t,r)=>{r.d(t,{$:()=>i,V:()=>s});var n=r(74848),a=r(16522),o=r(96540);let l=(0,o.createContext)(void 0),i=e=>{let t,r,o=(0,a.c)(5),{message:i,children:s}=e;o[0]!==i?(t={message:i},o[0]=i,o[1]=t):t=o[1];let c=t;return o[2]!==s||o[3]!==c?(r=(0,n.jsx)(l,{value:c,children:s}),o[2]=s,o[3]=c,o[4]=r):r=o[4],r},s=()=>{let e=(0,o.use)(l);if(!e)throw Error("useChatMessage must be used with ChatMessageProvider.");return e};try{l.displayName||(l.displayName="ChatMessageContext")}catch{}try{i.displayName||(i.displayName="ChatMessageProvider")}catch{}},54556:(e,t,r)=>{r.d(t,{E:()=>n});let n=r(24774).Lz.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{border:0,backgroundColor:"transparent"},".cm-tooltip.cm-tooltip-autocomplete > ul":{fontFamily:"var(--fontStack-monospace)",fontSize:"12px",backgroundColor:"var(--bgColor-default, var(--color-canvas-default))",border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"var(--borderRadius-medium)",boxShadow:"var(--shadow-resting-medium, var(--color-shadow-medium))",minWidth:"auto"},'.cm-tooltip.cm-tooltip-autocomplete li[role="option"]':{padding:"2px 8px",margin:0,color:"var(--fgColor-default, var(--color-fg-default))",whiteSpace:"pre"},'.cm-tooltip.cm-tooltip-autocomplete li[role="option"]:first-child':{borderTopLeftRadius:"var(--borderRadius-medium)",borderTopRightRadius:"var(--borderRadius-medium)"},'.cm-tooltip.cm-tooltip-autocomplete li[role="option"]:last-child':{borderBottomLeftRadius:"var(--borderRadius-medium)",borderBottomRightRadius:"var(--borderRadius-medium)"},".cm-tooltip.cm-tooltip-autocomplete ul li[aria-selected], .cm-tooltip.cm-tooltip-autocomplete ul li[aria-selected] .cm-completionDetail":{color:"var(--fgColor-onEmphasis, var(--color-fg-on-emphasis))",background:"var(--bgColor-accent-emphasis, var(--color-accent-emphasis))"},".cm-completionDetail":{paddingLeft:"8px",color:"var(--fgColor-muted, var(--color-fg-muted))",fontSize:"var(--fontSize-small)",fontStyle:"normal"}})},55099:(e,t,r)=>{r.d(t,{C:()=>y});var n=r(74848),a=r(83510),o=r(73189),l=r(96540),i=r(34522);let s="CodeMirrorDiff-module__container--RCtmx";var c=r(53839),d=r(63133),m=r(98325),u=r(71381),h=r(74713),p=r(11636),f=r(18351),g=r(24774),x=r(41185);function y(e){return e.left&&e.right?"split"===e.view?(0,n.jsx)(b,{...e}):(0,n.jsx)(v,{...e}):(0,n.jsx)(j,{...e})}function b(e){let t=(0,l.useRef)(null);return!function({fileName:e,left:t,leftLabelledBy:r,parentRef:n,right:o,rightLabelledBy:i,spacing:s}){let y=(0,l.useRef)(null),b=(0,l.useMemo)(()=>new c.xx,[]),v=(0,l.useMemo)(()=>new c.xx,[]),j=(0,l.useMemo)(()=>new c.xx,[]),[_,C]=(0,l.useMemo)(()=>{let e=[...m.o,...(0,u.u)(s),(0,h.h)(),v.of([]),b.of([]),j.of([(0,p.O)()]),(0,x.T)()],t=[(0,f.I)(r),g.Lz.contentAttributes.of({"aria-labelledby":r})],n=[(0,f.I)(i),g.Lz.contentAttributes.of({"aria-labelledby":i})];return[e.concat(t),e.concat(n)]},[s,v,b,j,r,i]);(0,l.useEffect)(()=>{let r=n.current;if(r)return y.current=new a.SV({a:{doc:t,extensions:_},b:{doc:o,extensions:C},parent:r,gutter:!1}),(0,d.r)({autoCompleteCompartment:b,fileName:e,languageCompartment:v,managedExtensions:[],themeCompartment:j,view:y.current?.a,viewB:y.current?.b}),()=>y.current?.destroy()},[])}({...e,parentRef:t}),(0,n.jsx)("div",{ref:t,className:s})}function v(e){let t=(0,l.useMemo)(()=>[(0,a.ex)({original:e.left,mergeControls:!1,gutter:!1})],[e.left]);return(0,n.jsx)(i.default,{ariaLabelledBy:e.unifiedLabelledBy,containerClassName:s,fileName:e.fileName,height:"100%",isReadOnly:!0,spacing:e.spacing,value:e.right,onChange:o.l,placeholder:"Loading...",hideHelp:!0,extensions:t})}function j(e){let t=""===e.left?"CodeMirrorDiff-module__newFile--vX9DQ":"CodeMirrorDiff-module__deletedFile--_w4wx",r=e.right||e.left;return(0,n.jsx)(i.default,{ariaLabelledBy:e.unifiedLabelledBy,containerClassName:t,fileName:e.fileName,height:"100%",isReadOnly:!0,spacing:e.spacing,value:r,onChange:o.l,placeholder:"Loading...",hideHelp:!0})}try{y.displayName||(y.displayName="CodeMirrorDiff")}catch{}try{b.displayName||(b.displayName="CodeMirrorDiffSplit")}catch{}try{v.displayName||(v.displayName="CodeMirrorDiffUnified")}catch{}try{j.displayName||(j.displayName="CodeMirrorDiffNewOrDeletedFile")}catch{}},68605:(e,t,r)=>{r.d(t,{BE:()=>i,Cw:()=>N,I6:()=>j,Lo:()=>d,Md:()=>f,TB:()=>_,TC:()=>v,TU:()=>u,YH:()=>g,Z3:()=>h,eO:()=>y,e_:()=>b,f9:()=>s,fJ:()=>S,fV:()=>p,tJ:()=>x,td:()=>m,w0:()=>c,ye:()=>C});var n=r(15874),a=r(54528),o=r(53839),l=r(24774);let i=e=>e.state.selection.main,s=(e,t)=>{e.dispatch({selection:{anchor:t}})},c=e=>e.state.selection.ranges.some(e=>!e.empty),d=e=>e.sliceDoc(e.selection.main.from,e.selection.main.to),m=(e,t,r)=>{e.dispatch({selection:{anchor:t,head:r}})};function u(e,t){return e.state.doc.line(t.line+1).from+t.ch}function h(e,t){let r=e.state.doc.lineAt(t);return{line:r.number-1,ch:t-r.from}}let p=(e,t)=>e.state.doc.line(t),f=(e,t,r)=>{let n=p(e,t);b(e,n.from,n.from,r)},g=(e,t,r)=>{let n=p(e,t);b(e,n.from,n.from+r.length,"")},x=(e,t)=>{e.dispatch(e.state.replaceSelection(t))},y=(e,t,r)=>e.sliceDoc(t,r),b=(e,t,r,n)=>{e.dispatch({changes:{from:t,to:r,insert:n}})},v=(e,t)=>{let r=i(e);b(e,r.from,r.to,t)},j=(e,t)=>new a.ZX(e.state.doc,t).next(),_=(e,t,r)=>{let n=new a.ZX(e.state.doc,t).next();e.dispatch({changes:{from:n.value.from,to:n.value.to,insert:r}})},C=(e,t,r,n,a)=>{if(void 0!==r)try{let i=p(e,t),s=p(e,r);if(i&&s){e.focus();let t=a?s.from+a:s.to;m(e,i.from+(n??0),t),e.dispatch({effects:[l.Lz.scrollIntoView(o.OF.range(i.from,s.to),{y:"center"})]})}}catch{}else try{let r=p(e,t);r&&(e.focus(),s(e,r.from+(n??0)),e.dispatch({effects:[l.Lz.scrollIntoView(r.from,{y:"center"})]}))}catch{}};function N(e){return e.state.facet(n.Xt)}function S(e,t){if(e===t)return[];let r=0,n=Math.min(e.length,t.length);for(;r<n&&e[r]===t[r];)r++;let a=e.length,o=t.length;for(;a>r&&o>r&&e[a-1]===t[o-1];)a--,o--;return[{from:r,to:a,insert:t.slice(r,o)}]}},87255:(e,t,r)=>{r.d(t,{Y:()=>C});var n=r(74848),a=r(16522),o=r(70170),l=r(53419),i=r(29731),s=r(83494),c=r(96379),d=r(56149),m=r(86877),u=r(10576),h=r(21373),p=r(57387),f=r(96540),g=r(40961),x=r(2635),y=r(33592),b=r(38621),v=r(5524);let j={Role:{tooltip:"Role, domain, style, and focus areas",body:`Your role:
- {role_type} expert in {domain}
- Focus on {key_skill_area}
`},Communication:{tooltip:"Language, tone and format",body:`Communication:
- Write in {tone/language}
- Reference {source_type} documentation
- Structure responses as {format}
`},"Code preferences":{tooltip:"Code style, patterns, and conventions",body:`Code guidelines:
- Use {language} conventions
- Follow {pattern/code_guidelines}
- Optimize for {goal}
`}};function _(e){let t,r,o,l,i,s,c,d=(0,a.c)(18),{ref:m,...u}=e,{onSelect:h}=u,[p,g]=(0,f.useState)(!1);d[0]!==p?(t=()=>g(!p),d[0]=p,d[1]=t):t=d[1];let x=t;d[2]===Symbol.for("react.memo_cache_sentinel")?(r={marginBottom:"1px"},d[2]=r):r=d[2];let y=v.l,_=p&&Object.entries(j)?.map(e=>{let[t,r]=e;return(0,n.jsxs)(v.l.Item,{"aria-label":`${r.tooltip}`,className:"mx-0 border fgColor-muted d-inline-block width-auto",onSelect:()=>h(t,r.body),children:[(0,n.jsx)(b.PlusIcon,{}),t]},t)});d[3]!==y||d[4]!==_?(o=(0,n.jsx)(y,{className:"d-inline-flex flex-wrap gap-2 rounded-2",children:_}),d[3]=y,d[4]=_,d[5]=o):o=d[5];let C=p?"Hide templates":"Show templates";return d[6]===Symbol.for("react.memo_cache_sentinel")?(l={border:"1px solid transparent"},d[6]=l):l=d[6],d[7]!==p?(i=p?(0,n.jsx)(b.XIcon,{}):(0,n.jsx)(b.LightBulbIcon,{}),d[7]=p,d[8]=i):i=d[8],d[9]!==i||d[10]!==C||d[11]!==x?(s=(0,n.jsx)(v.l,{className:"d-flex flex-column flex-justify-end",children:(0,n.jsx)(v.l.Item,{"aria-label":C,"data-testid":"toggle-templates",className:"fgColor-muted d-inline-block width-auto flex-justify-end mx-0",style:l,onSelect:x,children:i})}),d[9]=i,d[10]=C,d[11]=x,d[12]=s):s=d[12],d[13]!==s||d[14]!==m||d[15]!==r||d[16]!==o?(c=(0,n.jsxs)("div",{ref:m,className:"d-inline-flex flex-justify-between position-absolute bgColor-default right-0 left-0 bottom-0 ml-2 mr-3",style:r,children:[o,s]}),d[13]=s,d[14]=m,d[15]=r,d[16]=o,d[17]=c):c=d[17],c}try{_.displayName||(_.displayName="PersonalInstructionsTemplates")}catch{}let C=({onDismiss:e,returnFocusRef:t})=>{let r=(0,x.Pk)(),b=(0,y.b)(),[v,j]=(0,f.useState)(r.personalInstructions??""),[C,S]=(0,f.useState)(void 0),[R,w]=(0,f.useState)(!1),k=(0,f.useRef)(null),A=(0,f.useRef)(null),[I,T]=(0,f.useState)(""),L=((e,t)=>{let r,n,l=(0,a.c)(4),[i,s]=(0,f.useState)(48);return l[0]!==e||500!==l[1]?(r=()=>{let t=(0,o.s)(()=>{e?.current&&s(e.current.clientHeight??48)},500),r=new ResizeObserver(t);return e?.current&&r.observe(e.current),()=>{t.cancel(),r?.disconnect?.()}},n=[e,500],l[0]=e,l[1]=500,l[2]=r,l[3]=n):(r=l[2],n=l[3]),(0,f.useEffect)(r,n),i})(A);(0,f.useLayoutEffect)(()=>{k?.current&&(k.current.scrollTop=k.current.scrollHeight)},[v]);let E=(0,f.useCallback)(async()=>{if(!R){w(!0),I&&(0,l.BI)("copilot_personal_instruction_template_usage",{content:I});try{let t=await (0,c.lS)("/copilot/personal_instructions",{method:"POST",body:{prompt:v}});if(t.ok)(0,l.BI)("dotcom_chat.activate",{target:"PERSONAL_INSTRUCTIONS_SAVE",mode:"immersive"}),b.dispatch({type:"SET_PERSONAL_INSTRUCTIONS",personalInstructions:v}),(0,g.flushSync)(()=>e());else{let e=await t.json();S(String(e.errorMessage))}}catch{S("An error occurred while saving your personal instructions.")}finally{w(!1)}}},[R,v,b,e,I]),P=(e,t)=>{t&&(j(v?`${v}
${t}`:t),T(e),k?.current?.focus())},D=()=>{E()},M=(0,f.useCallback)(()=>{(0,l.BI)("dotcom_chat.dismiss",{target:"PERSONAL_INSTRUCTIONS_DISMISS",mode:"immersive"}),(0,g.flushSync)(()=>e())},[e]);return(0,n.jsx)(d.ZL,{children:(0,n.jsx)(p.l,{onClose:M,title:"Personal instructions",subtitle:"Set up Copilot to align with your workflows and preferences. These instructions will only impact your personal conversation.",width:"large",returnFocusRef:t,renderBody:()=>(0,n.jsx)(p.l.Body,{children:(0,n.jsx)("form",{onSubmit:E,children:(0,n.jsxs)(m.A,{children:[(0,n.jsx)(m.A.Label,{visuallyHidden:!0,children:"Instructions"}),(0,n.jsx)("div",{className:"width-full position-relative",children:(0,n.jsxs)(s.tL,{commands:{"github:submit-form":D},children:[(0,n.jsx)(u.Ay,{ref:k,className:"width-full",style:{paddingBottom:`${L}px`},"aria-label":"Prompt",rows:7,name:"prompt",placeholder:"Your instructions",value:v,validationStatus:C||v.length>4e3?"error":void 0,...(0,i.G)("prompt-input"),onChange:e=>{j(e.target.value),S(void 0)}}),(0,n.jsx)(_,{ref:A,onSelect:P})]})}),(0,n.jsx)(N,{text:v,promptCharLimit:4e3}),C&&(0,n.jsx)(m.A.Validation,{variant:"error",children:(0,n.jsx)("span",{...(0,i.G)("error-message"),children:C})})]})})}),renderFooter:()=>(0,n.jsxs)("div",{className:"PersonalInstructionsDialog-module__footerContainer--T9wxr",children:[(0,n.jsx)(h.Q,{variant:"default",onClick:M,children:"Cancel"}),(0,n.jsx)(h.Q,{loading:R,loadingAnnouncement:"Saving personal instructions",variant:"primary",onClick:E,children:"Save"})]})})})};function N(e){let t,r,o,l,s=(0,a.c)(10),{text:c,promptCharLimit:d}=e;s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.G)("current-character-count"),s[0]=t):t=s[0],s[1]!==c.length?(r=(0,n.jsx)("span",{className:"text-tabular-nums",...t,children:c.length}),s[1]=c.length,s[2]=r):r=s[2],s[3]!==d||s[4]!==r?(o=(0,n.jsxs)(n.Fragment,{children:[r," ","/ ",d," characters"]}),s[3]=d,s[4]=r,s[5]=o):o=s[5];let u=o;return s[6]!==u||s[7]!==d||s[8]!==c.length?(l=(0,n.jsx)(n.Fragment,{children:c.length>d?(0,n.jsx)(m.A.Validation,{variant:"error",children:u}):(0,n.jsx)(m.A.Caption,{children:u})}),s[6]=u,s[7]=d,s[8]=c.length,s[9]=l):l=s[9],l}try{C.displayName||(C.displayName="PersonalInstructionsDialog")}catch{}try{N.displayName||(N.displayName="CharacterCount")}catch{}},87419:(e,t,r)=>{r.d(t,{Y:()=>c});var n=r(16522),a=r(96540),o=r(79064),l=r(2635),i=r(33592),s=r(72303);function c(e){let t,r,c,d,m,u,h,p,f,g,x=(0,n.c)(26),y=(0,l.Pk)(),b=(0,i.b)(),{currentTopic:v,messages:j,selectedThreadID:_}=y;x[0]!==y?(t=(0,s.W)(y),x[0]=y,x[1]=t):t=x[1];let C=t,N=(0,a.useRef)(null),S=e||N;return x[2]!==b||x[3]!==j.length||x[4]!==C?(r=()=>{C&&j.length>0&&b.showTopicPicker(!1)},c=[C,j.length,b],x[2]=b,x[3]=j.length,x[4]=C,x[5]=r,x[6]=c):(r=x[5],c=x[6]),(0,a.useEffect)(r,c),x[7]!==v||x[8]!==_?(d=()=>{let e=v?String(v.id):null;_&&e&&o.Jt.setSelectedTopic(_,e)},m=[_,v],x[7]=v,x[8]=_,x[9]=d,x[10]=m):(d=x[9],m=x[10]),(0,a.useEffect)(d,m),x[11]!==S?(u=()=>{let e=window.setTimeout(()=>{S.current?.focus()},1);return()=>{window.clearTimeout(e)}},h=[S],x[11]=S,x[12]=u,x[13]=h):(u=x[12],h=x[13]),(0,a.useEffect)(u,h),x[14]!==b||x[15]!==y.context?.[0]||x[16]!==y.currentRepository?(p=()=>{let e;return(e=y.context?.[0]??y.currentRepository)&&b.generateSuggestions(e),()=>{b.clearSuggestions()}},x[14]=b,x[15]=y.context?.[0],x[16]=y.currentRepository,x[17]=p):p=x[17],x[18]!==b||x[19]!==y.context||x[20]!==y.currentRepository||x[21]!==y.currentTopic||x[22]!==y.selectedThreadID?(f=[b,y.context,y.currentTopic,y.currentRepository,y.selectedThreadID],x[18]=b,x[19]=y.context,x[20]=y.currentRepository,x[21]=y.currentTopic,x[22]=y.selectedThreadID,x[23]=f):f=x[23],(0,a.useEffect)(p,f),x[24]!==S?(g={textAreaRef:S},x[24]=S,x[25]=g):g=x[25],g}},88752:(e,t,r)=>{r.d(t,{t2:()=>A,sV:()=>w,dX:()=>k});var n,a=r(74848),o=r(38621),l=r(4908),i=r(23398),s=r(5524),c=r(84268),d=r(10095),m=r(34164),u=r(96540),h=r(25641),p=r(35247),f=r(69497),g=r(94236),x=r(2635),y=r(33592),b=r(35673),v=r(1631);function j({reference:e,onClick:t}){let r,n=(0,x.Pk)(),l=(0,y.b)(),i=(0,u.useRef)(null),[c,d]=(0,u.useState)(!1),p=n?.mode??"assistive",{currentReferences:j}=n??{currentReferences:[]},_=(0,u.useMemo)(()=>j.map(e=>(0,h.Vb)(e)),[j]),C=(0,u.useMemo)(()=>(0,h.Vb)(e),[e]),N=(0,u.useMemo)(()=>"repo-instructions"===e.type,[e]),S=(0,u.useMemo)(()=>"org-instructions"===e.type,[e]),R=!N&&!S&&"web-search-result"!==e.type,w=(0,u.useMemo)(()=>N||S||_.includes(C),[N,S,_,C]),k=(0,u.useCallback)(t=>{t.stopPropagation(),w||l.addReference(e,"refMenu")},[l,e,w]),A=(0,h.JP)(e),I=(0,h.Xs)(A),T=(0,v.a_)(e);switch(e.type){case"file":case"snippet":{r=`${e.repoName}`;let t=e.path.lastIndexOf("/");-1!==t&&(r=`${r}/${e.path.substring(0,t)}`);break}case"web-search-result":r=new URL(e.url,window.location.origin).hostname.replace(/^www\./,"")}let L=(0,h.z$)(e);return(0,a.jsxs)(s.l.LinkItem,{onClick:r=>{t&&!r.defaultPrevented&&t(e,r)},href:A,rel:"noopener",className:(0,m.$)("reference-action","ChatReference-module__ActionList_LinkItem--gopkk"),target:"immersive"===p||"third-party"===e.type?"_blank":void 0,children:[T&&(0,a.jsx)(s.l.LeadingVisual,{children:(0,a.jsx)(T,{})}),(0,a.jsxs)(f.A,{title:L,maxWidth:"100%",className:"text-semibold",children:[L,r&&(0,a.jsx)("span",{className:"color-fg-muted ml-2",children:r})]}),R&&(0,a.jsx)(s.l.TrailingAction,{onClick:()=>d(!0),icon:o.KebabHorizontalIcon,label:"More reference options",ref:i}),R&&(0,a.jsx)(g.W,{anchorRef:i,open:c,onOpenChange:d,children:(0,a.jsx)(b.UJ,{portalContainerName:b.Dq,children:(0,a.jsxs)(s.l,{children:[I&&("immersive"===p||["third-party","folder","repository"].includes(e.type)?(0,a.jsxs)(s.l.LinkItem,{href:A,rel:"noopener",target:"_blank",children:[(0,a.jsx)(s.l.LeadingVisual,{children:(0,a.jsx)(o.LinkIcon,{})}),"Open"]}):(0,a.jsxs)(s.l.Item,{onSelect:()=>{l.selectReference(e)},children:[(0,a.jsx)(s.l.LeadingVisual,{children:(0,a.jsx)(o.LinkIcon,{})}),"Preview"]})),(0,a.jsxs)(s.l.Item,{onSelect:k,disabled:w,children:[(0,a.jsx)(s.l.LeadingVisual,{children:(0,a.jsx)(o.PaperclipIcon,{})}),"Attach to chat"]})]})})})]})}try{j.displayName||(j.displayName="OutputReference")}catch{}try{(n=Icon).displayName||(n.displayName="Icon")}catch{}var _=r(16522),C=r(69726),N=r(89237);function S(e){let t,r,n,o,l,i,s,c,d,p,f,g=(0,_.c)(24);g[0]!==e?({ref:t,reference:r,...n}=e,g[0]=e,g[1]=t,g[2]=r,g[3]=n):(t=g[1],r=g[2],n=g[3]);let[x,y]=(0,u.useState)(!0);return g[4]!==r?(o=(0,h.JP)(r),g[4]=r,g[5]=o):o=g[5],g[6]===Symbol.for("react.memo_cache_sentinel")?(l=(0,m.$)("FigmaChatReference-module__referenceToken--PONuv"),g[6]=l):l=g[6],g[7]!==r.thumbnailUrl||g[8]!==r.title||g[9]!==x?(i=r.thumbnailUrl&&(0,a.jsxs)(a.Fragment,{children:[x&&(0,a.jsx)("span",{className:"FigmaChatReference-module__thumbnailLoading--cQ2Uf",children:(0,a.jsx)(C.A,{size:"medium"})}),(0,a.jsx)("img",{className:(0,m.$)("FigmaChatReference-module__thumbnail--mm7QC",{"FigmaChatReference-module__thumbnailHidden--pv7wD":x}),src:r.thumbnailUrl,alt:`preview thumbnail for ${r.title}`,onLoad:()=>y(!1)})]}),g[7]=r.thumbnailUrl,g[8]=r.title,g[9]=x,g[10]=i):i=g[10],g[11]!==i?(s=(0,a.jsx)("span",{className:"FigmaChatReference-module__thumbnailOuter--oMFvD",children:i}),g[11]=i,g[12]=s):s=g[12],g[13]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsx)("div",{className:"FigmaChatReference-module__figmaIconOuter--KtveL",children:(0,a.jsx)(N._,{className:"FigmaChatReference-module__figmaIcon--kEY45"})}),g[13]=c):c=g[13],g[14]!==r?(d=(0,h.z$)(r),g[14]=r,g[15]=d):d=g[15],g[16]!==d?(p=(0,a.jsxs)("span",{className:"FigmaChatReference-module__content--Mpcb0",children:[c,(0,a.jsx)("span",{className:"FigmaChatReference-module__name--XjBR8",children:d})]}),g[16]=d,g[17]=p):p=g[17],g[18]!==t||g[19]!==n||g[20]!==o||g[21]!==s||g[22]!==p?(f=(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("a",{href:o,className:l,ref:t,target:"_blank",rel:"noreferrer",...n,children:[s,p]})}),g[18]=t,g[19]=n,g[20]=o,g[21]=s,g[22]=p,g[23]=f):f=g[23],f}try{S.displayName||(S.displayName="FigmaChatReference")}catch{}var R=r(95896);function w({references:e,onToggle:t,onClick:r,isImmersive:n,className:s}){let c=(0,u.useMemo)(()=>(0,h.rT)(e),[e]),{getDetailsProps:p}=(0,l.A)({});if(0===c.length)return null;let f=`${c.length} ${1===c.length?"reference":"references"}`;return(0,a.jsxs)(i.A,{...p(),onToggle:t,className:(0,m.$)(s,"ChatReferences-module__referencesDetails--Ypv2c"),children:[(0,a.jsxs)("summary",{className:(0,m.$)("ChatReferences-module__referencesContainer--qLjdy"),children:[(0,a.jsx)("span",{className:(0,m.$)("ChatReferences-module__title--d18y3",n?"":"ChatReferences-module__assistiveTitle--Ojcrs"),children:f}),(0,a.jsx)(d.A,{icon:o.ChevronDownIcon,className:(0,m.$)("references-chevron-down","ChatReferences-module__chevronDownIcon--Fv9mJ")}),(0,a.jsx)(d.A,{icon:o.ChevronUpIcon,className:(0,m.$)("references-chevron-up","ChatReferences-module__chevronUpIcon--OPX7R")})]}),(0,a.jsx)(k,{references:c,onClick:r,isImmersive:n})]})}function k({references:e,onClick:t,isImmersive:r}){let n=(0,u.useMemo)(()=>e.some(e=>"web-search-result"===e.type),[e]);return(0,a.jsxs)(s.l,{className:(0,m.$)(r&&"ChatReferences-module__referencesListImmersiveContainer--gM5wy","ChatReferences-module__ActionList--ACk2F"),children:[e.map(e=>(0,a.jsx)(j,{reference:e,onClick:t},(0,h.Vb)(e))),n&&(0,a.jsxs)("div",{className:"ChatReferences-module__chatMessageReferenceListFooter--WgJAa",children:["Copilot used the"," ",(0,a.jsx)(c.A,{inline:!0,href:"https://gh.io/azure-ai-agent-with-bing-grounding",target:"_blank",rel:"noopener noreferrer",children:"Bing Search"})," ","tool."," ",(0,a.jsx)(c.A,{inline:!0,href:"https://privacy.microsoft.com/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"})]})]})}function A({references:e,message:t,className:r,size:n,onClickReference:o,getReferenceVersion:l}){let{bigReferences:i,smallReferences:s}=(0,u.useMemo)(()=>(function(e){let t=(0,h.rT)(e),r=[],n=[];for(let e of t)I.has(e.type)?r.push(e):n.push(e);return{bigReferences:r,smallReferences:n}})(e),[e]),c=e=>"figma"===e.type&&p.W.immersiveFigmaIntegration?(0,a.jsx)(S,{reference:e,onClick:t=>o?.(e,t)},(0,h.Vb)(e)):(0,a.jsx)(v.BR,{message:t,reference:e,size:n,onClick:(t,r)=>o?.(e,r),getReferenceVersion:l},(0,h.Vb)(e));return(0,a.jsxs)(R.M,{"aria-label":"Attachments",className:(0,m.$)("ChatReferences-module__referenceTokensOuterContainer--OV840",r),children:[i.map(c),(0,a.jsx)("div",{className:"ChatReferences-module__referenceTokensContainer--nhf9A",children:s.map(c)})]})}let I=new Set(["figma","image"]);try{w.displayName||(w.displayName="ChatMessageReferencesList")}catch{}try{k.displayName||(k.displayName="ReferencesList")}catch{}try{A.displayName||(A.displayName="ChatMessageReferenceTokens")}catch{}try{I.displayName||(I.displayName="BIG_REFERENCE_TYPES")}catch{}},91547:(e,t,r)=>{r.d(t,{E:()=>u,q:()=>m});var n=r(5225),a=r(25407),o=r(82591),l=r(96379),i=r(96540);async function s(e){let t=await (0,l.lS)(e);return t.ok?await t.json():void 0}let c=new Map,d=(0,n.A)(s,{cache:c});function m(){c.clear()}function u(e,t,r,n){let[l,s]=(0,i.useState)(),[c,u]=(0,i.useState)(!1),[h,p]=(0,i.useState)(!0),f=t&&e&&r&&n?(0,a.IO9)({repo:{name:t,ownerLogin:e},commitish:r,action:"latest-commit",path:n}):null;return(0,i.useEffect)(()=>{let e=new AbortController;return document.addEventListener(o.z.START,m,{signal:e.signal}),()=>{e.abort()}},[]),(0,i.useEffect)(()=>{let e=!1;return(async()=>{if(!f)return;u(!1),p(!0),s(void 0);let t=await d(f);if(!e){try{t?s(t):u(!0)}catch{u(!0)}p(!1)}})(),function(){e=!0}},[f,r]),[l,h,c]}},92130:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(74848),a=r(16522),o=r(74807);function l(e){let t,r,l=(0,a.c)(3),{hidden:i}=e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(o.N,{animationType:o.L.Idle,loopAnimation:!0,size:64}),l[0]=t):t=l[0],l[1]!==i?(r=(0,n.jsx)("div",{"aria-hidden":i,children:t}),l[1]=i,l[2]=r):r=l[2],r}try{l.displayName||(l.displayName="CopilotIconAnimation")}catch{}},95896:(e,t,r)=>{r.d(t,{M:()=>s});var n=r(74848),a=r(16522),o=r(97068),l=r(45800),i=r(96540);function s(e){let t,r,s,c,d=(0,a.c)(8);d[0]!==e?({className:t,...r}=e,d[0]=e,d[1]=t,d[2]=r):(t=d[1],r=d[2]);let m=(0,i.useRef)(null);return d[3]===Symbol.for("react.memo_cache_sentinel")?(s={containerRef:m,focusInStrategy:"first",focusOutBehavior:"stop",bindKeys:o.z0.ArrowHorizontal|o.z0.HomeAndEnd},d[3]=s):s=d[3],(0,l.G)(s),d[4]!==t||d[5]!==e.children||d[6]!==r?(c=(0,n.jsx)("div",{ref:m,className:t,role:"toolbar",...r,children:e.children}),d[4]=t,d[5]=e.children,d[6]=r,d[7]=c):c=d[7],c}try{s.displayName||(s.displayName="Toolbar")}catch{}},97315:(e,t,r)=>{r.d(t,{P:()=>s});var n=r(74848),a=r(16522),o=r(11680),l=r(96540),i=r(33592);function s(e){let t,r,s,d,m,u,h=(0,a.c)(14),{ambientError:p,useLargerBorderRadius:f}=e,g=(0,i.b)(),[x,y]=(0,l.useState)(0),b=(0,l.useRef)(null);h[0]!==p.message?(t=()=>{if(p.message){y(c);let e=setTimeout(()=>{b.current&&b.current.focus()},250);return()=>clearTimeout(e)}},h[0]=p.message,h[1]=t):t=h[1],h[2]!==p?(r=[p],h[2]=p,h[3]=r):r=h[3],(0,l.useEffect)(t,r);let v=`AmbientErrorBanner-module__ambientErrorBanner--lajPC ${void 0!==f&&f?"AmbientErrorBanner-module__largeBorderRadius--NGjjE":"AmbientErrorBanner-module__mediumBorderRadius--aAp6Z"}`;return h[4]===Symbol.for("react.memo_cache_sentinel")?(s={outline:"none"},h[4]=s):s=h[4],h[5]!==p.message?(d=(0,n.jsx)("div",{ref:b,tabIndex:-1,style:s,children:p.message}),h[5]=p.message,h[6]=d):d=h[6],h[7]!==g?(m=()=>{g.dismissAmbientError()},h[7]=g,h[8]=m):m=h[8],h[9]!==x||h[10]!==v||h[11]!==d||h[12]!==m?(u=(0,n.jsx)(o.l,{"aria-atomic":"true",className:v,description:d,variant:"critical",title:"Error during copilot chat has occurred.",hideTitle:!0,onDismiss:m},x),h[9]=x,h[10]=v,h[11]=d,h[12]=m,h[13]=u):u=h[13],u}function c(e){return e+1}try{s.displayName||(s.displayName="AmbientErrorBanner")}catch{}}}]);
//# sourceMappingURL=45414-9854f6b0e2fc.js.map